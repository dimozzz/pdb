#!/bin/bash
# этот скрипт добавляет задачи с указанными номерами в специальный файл

# имя файла с отобранными задачами
FILE=sel_id

# номера задач собираются в массив
id=("$@")

# задачи с номерами из массива по очереди добавляются в FILE
for index in $(seq 0 $((${#id[@]}-1)))
do
    cat "problems/${id[$index]}.tex" >> $FILE.tex
    echo -e "\n" >> $FILE.tex
    echo "Добавлена задача № ${id[$index]}"
done

# и теперь считаем, сколько задач получилось
n=$(grep '\\task' sel_id.tex | wc -l)
echo "Всего отобрано задач: $n"
